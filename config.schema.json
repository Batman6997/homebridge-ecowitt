{
  "pluginAlias": "Ecowitt",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "mac": {
        "title": "MAC Address",
        "description": "Base station MAC address",
        "type": "string",
        "pattern": "^([A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}$",
        "required": true
      },
      "port": {
        "title": "Port",
        "type": "integer",
        "required": true,
        "default": "8080"
      },
      "path": {
        "title": "Path",
        "type": "string",
        "required": true,
        "default": "/data/report"
      },
      "ws": {
        "type": "object",
        "properties": {
          "uv": {
            "title": "UV Index",
            "type": "object",
            "properties": {
              "hidden": {
                "title": "Hidden",
                "type": "boolean",
                "default": false
              },
              "threshold": {
                "title": "Threshold",
                "type": "integer",
                "default": 6,
                "description": "<p class='help-block'><br/><b><u>UV Levels</u></b><br/>0-2: Low<br/>3-5: Moderate<br/>6-7: High<br/>8-10: Very High<br/>11+: Extreme</p>"
              }
            }
          },
          "properties": {
            "solarradiation": {
              "title": "Solar Radiation",
              "type": "object",
              "properties": {
                "hidden": {
                  "title": "Hidden",
                  "type": "boolean",
                  "default": false
                }
              }
            }
          }
        },
        "th": {
          "type": "object",
          "properties": {
            "hidden": {
              "title": "Hidden",
              "type": "boolean",
              "default": false
            },
            "ch1": {
              "title": "Channel 1",
              "type": "string"
            },
            "ch2": {
              "title": "Channel 2",
              "type": "string"
            },
            "ch3": {
              "title": "Channel 3",
              "type": "string"
            },
            "ch4": {
              "title": "Channel 4",
              "type": "string"
            },
            "ch5": {
              "title": "Channel 5",
              "type": "string"
            },
            "ch6": {
              "title": "Channel 6",
              "type": "string"
            },
            "ch7": {
              "title": "Channel 7",
              "type": "string"
            },
            "ch8": {
              "title": "Channel 8",
              "type": "string"
            }
          }
        },
        "soil": {
          "type": "object",
          "properties": {
            "hidden": {
              "title": "Hidden",
              "type": "boolean",
              "default": false
            },
            "ch1": {
              "title": "Channel 1",
              "type": "string"
            },
            "ch2": {
              "title": "Channel 2",
              "type": "string"
            },
            "ch3": {
              "title": "Channel 3",
              "type": "string"
            },
            "ch4": {
              "title": "Channel 4",
              "type": "string"
            },
            "ch5": {
              "title": "Channel 5",
              "type": "string"
            },
            "ch6": {
              "title": "Channel 6",
              "type": "string"
            },
            "ch7": {
              "title": "Channel 7",
              "type": "string"
            },
            "ch8": {
              "title": "Channel 8",
              "type": "string"
            }
          }
        },
        "leak": {
          "type": "object",
          "properties": {
            "hidden": {
              "title": "Hidden",
              "type": "boolean",
              "default": false
            },
            "ch1": {
              "title": "Channel 1",
              "type": "string"
            },
            "ch2": {
              "title": "Channel 2",
              "type": "string"
            },
            "ch3": {
              "title": "Channel 3",
              "type": "string"
            },
            "ch4": {
              "title": "Channel 4",
              "type": "string"
            }
          },
          "lightning": {
            "type": "object",
            "properties": {
              "hidden": {
                "title": "Hidden",
                "type": "boolean",
                "default": false
              }
            }
          }
        }
      }
    }
  },
  "form": [
    {
      "type": "fieldset",
      "expandable": false,
      "title": "Base Station",
      "items": [
        "mac"
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Data Report Service",
      "items": [
        "port",
        "path"
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Weather Sensors",
      "items": [
        {
          "type": "fieldset",
          "expandable": true,
          "expanded": false,
          "title": "UV Index",
          "items": [
            "ws.uv.hidden",
            {
              "type": "fieldset",
              "notitle": true,
              "condition": {
                "functionBody": "return !model.ws.uv.hidden;"
              },
              "items": [
                "ws.uv.threshold"
              ]
            }
          ]
        },
        {
          "type": "fieldset",
          "expandable": true,
          "expanded": false,
          "title": "Solar Radiation",
          "items": [
            "ws.solarradiation.hidden",
            {
              "type": "fieldset",
              "notitle": true,
              "condition": {
                "functionBody": "return !model.ws.solarradiation.hidden;"
              },
              "items": []
            }
          ]
        }
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Indoor Thermometer/Hygrometer/Barometer Sensor",
      "items": []
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Multi-Channel Thermometer/Hygrometer Sensors",
      "items": [
        "th.hidden",
        {
          "type": "fieldset",
          "notitle": true,
          "condition": {
            "functionBody": "return !model.th.hidden;"
          },
          "items": [
            "th.ch1",
            "th.ch2",
            "th.ch3",
            "th.ch4",
            "th.ch5",
            "th.ch6",
            "th.ch7",
            "th.ch8"
          ]
        }
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Lightning Detection Sensor",
      "items": [
        "lightning.hidden",
        {
          "type": "fieldset",
          "notitle": true,
          "condition": {
            "functionBody": "return !model.lightning.hidden;"
          },
          "items": []
        }
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Soil Moisture Sensors",
      "items": [
        "soil.hidden",
        {
          "type": "fieldset",
          "notitle": true,
          "condition": {
            "functionBody": "return !model.soil.hidden;"
          },
          "items": [
            "soil.ch1",
            "soil.ch2",
            "soil.ch3",
            "soil.ch4",
            "soil.ch5",
            "soil.ch6",
            "soil.ch7",
            "soil.ch8"
          ]
        }
      ]
    },
    {
      "type": "fieldset",
      "expandable": true,
      "expanded": false,
      "title": "Leak Detection Sensors",
      "items": [
        "leak.hidden",
        {
          "type": "fieldset",
          "notitle": true,
          "condition": {
            "functionBody": "return !model.leak.hidden;"
          },
          "items": [
            "leak.ch1",
            "leak.ch2",
            "leak.ch3",
            "leak.ch4"
          ]
        }
      ]
    }
  ]
}